# User Service Documentation

## Оглавление
1. [Обзор системы](#обзор-системы)
2. [Ключевые варианты использования](#ключевые-варианты-использования)
3. [Архитектура сервиса](#архитектура-сервиса)
4. [Описание API](#описание-api)
5. [Используемые технологии](#используемые-технологии)
6. [Безопасность](#безопасность)

## Обзор системы
User Service представляет собой микросервис для управления пользователями в рамках системы управления проектами. Сервис обеспечивает базовую функциональность управления пользователями, включая регистрацию, аутентификацию и авторизацию пользователей с использованием токенов JWT.

## Ключевые варианты использования

### Управление пользователями
- Создание новых пользователей
- Просмотр списка пользователей
- Получение информации о конкретном пользователе
- Получение информации о текущем пользователе

### Аутентификация и авторизация
- Авторизация пользователей с получением JWT токена
- Защита API-эндпоинтов с помощью JWT-токенов
- Проверка прав доступа к ресурсам

### Административные функции
- Автоматическое создание администратора при первом запуске
- Управление пользователями с правами администратора

## Архитектура сервиса

### Компоненты системы
1. **API Layer** (`routes.py`)
   - Обработка HTTP-запросов
   - Маршрутизация
   - Валидация входных данных

2. **Authentication Layer** (`auth.py`)
   - Управление JWT токенами
   - Хеширование паролей
   - Проверка учетных данных

3. **Data Layer** (`database.py`)
   - In-memory хранилище данных
   - CRUD операции с пользователями
   - Поиск пользователей

4. **Model Layer** (`models.py`)
   - Модели данных
   - Валидация данных
   - Сериализация/десериализация

### Структура проекта
```
project-management-system/
└── services/
    └── user_service/
        └── src/
            ├── main.py
            ├── models.py
            ├── auth.py
            ├── database.py
            └── api/
                └── routes.py
```

## Используемые технологии

### Основные технологии
- **FastAPI**: Современный веб-фреймворк для создания API
- **Pydantic**: Валидация данных и сериализация
- **JWT**: Механизм авторизации и аутентификации
- **Uvicorn**: ASGI-сервер для запуска приложения
- **Python 3.7+**: Язык программирования

### Библиотеки
- **python-jose**: Работа с JWT токенами
- **passlib**: Хеширование паролей
- **python-multipart**: Обработка форм
- **email-validator**: Валидация email-адресов

## Безопасность

### Механизмы безопасности
1. **Аутентификация**
   - OAuth2 с использованием JWT токенов
   - Хеширование паролей с помощью bcrypt
   - Проверка срока действия токенов

2. **Защита данных**
   - Валидация входных данных
   - Безопасное хранение паролей
   - CORS защита

3. **Настройки безопасности**
   - Настраиваемое время жизни токенов
   - Конфигурируемые CORS-правила
   - Защита от брутфорс-атак
