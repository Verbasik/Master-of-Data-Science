# Веб-интерфейс для игры "Крестики-нолики" с RL-агентом

Это веб-приложение позволяет играть в "Крестики-нолики" против различных типов искусственного интеллекта, включая обученного методом Reinforcement Learning агента.

## Требования

- Python 3.7+
- Flask
- NumPy
- Предварительно обученная модель Q-learning агента

## Структура проекта

```
web/
├── app.py                  # Бэкенд-приложение Flask
├── static/                 # Статические файлы
│   ├── css/
│   │   └── style.css       # CSS стили
│   └── js/
│       └── game.js         # JavaScript для игры
├── templates/
│   └── index.html          # Основной HTML-шаблон
└── README_WEB.md           # Этот файл
```

## Установка и настройка

1. Убедитесь, что вы обучили Q-learning агента и сохранили модель в директории `models/`:

```bash
# В корневой директории проекта
python main.py --mode train --opponent random --episodes 10000
```

2. Установите необходимые зависимости:

```bash
pip install flask numpy
```

3. Перейдите в директорию `web/` и запустите Flask-приложение:

```bash
cd web
python app.py
```

4. Откройте веб-браузер и перейдите по адресу http://localhost:5000

## Использование

В веб-интерфейсе вы можете:

1. Выбрать тип AI противника:
   - Easy (Random) - случайные ходы
   - Medium (Rule-Based) - ходы на основе простых правил
   - Hard (Minimax) - оптимальная стратегия с алгоритмом минимакс
   - Reinforcement Learning (Trained Agent) - обученный с помощью RL агент

2. Выбрать, кто будет ходить первым:
   - You (Human) - вы ходите первым
   - AI - AI ходит первым
   - Random - случайный выбор первого игрока

3. Играть, нажимая на клетки игрового поля для своего хода.

4. После завершения игры вы увидите результат и сможете начать новую игру.

## Интеграция с основным проектом

Веб-приложение интегрируется с основным проектом, загружая обученные модели Q-learning агента из директории `models/`. При запуске `app.py` происходит автоматическая загрузка модели `q_agent_final.pkl`.

Если модель не найдена, веб-приложение все равно будет работать, но без опции Reinforcement Learning.

## Расширение функциональности

Вы можете расширить функциональность веб-приложения:

1. Добавить возможность обучения агента прямо в веб-интерфейсе.
2. Добавить визуализацию Q-значений для анализа стратегии RL-агента.
3. Реализовать сохранение истории игр и статистики.
4. Добавить возможность игры человека против человека через сеть.

## Устранение неполадок

Если при запуске веб-приложения возникают ошибки:

1. Убедитесь, что вы запускаете `app.py` из правильной директории, чтобы импорты проекта работали корректно.
2. Проверьте, что вы обучили и сохранили модель Q-learning агента в директории `models/`.
3. Убедитесь, что установлены все необходимые зависимости.
4. Проверьте консоль в веб-браузере на наличие ошибок JavaScript.